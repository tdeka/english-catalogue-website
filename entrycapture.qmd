---
title: "Entry Captures"
format: html
---


```{python}

#| echo: false
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

# Load the data
df = pd.read_csv("entriescaptured.csv")

# Extract values
years = df['Year'].astype(str)  # make sure years are strings for x-axis
total = df['Catalogue Table']
captured = df['Dataframe']
percentages = df['Percentage Captured']

# Setup positions
x = np.arange(len(years))  # the label locations
width = 0.35  # width of the bars

# Create the plot
fig, ax = plt.subplots(figsize=(8, 6))

# Bars
bars1 = ax.bar(x - width/2, total, width, label='Total Entries')
bars2 = ax.bar(x + width/2, captured, width, label='Captured Entries')

# Annotate with percentage above the group
for i, pct in enumerate(percentages):
    ax.text(x[i], max(total[i], captured[i]) + 20, f"{pct:.1f}%", ha='center', va='bottom', fontsize=10, fontweight='bold')

# Labels and title
ax.set_xlabel('Year')
ax.set_ylabel('Number of Entries')
ax.set_title('Our Coverage of English Catalogue of Books by Year')
ax.set_xticks(x)
ax.set_xticklabels(years)
ax.legend()

plt.tight_layout()
plt.show()

```