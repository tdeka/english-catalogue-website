---
format: html
---

<h1 class="page-top">Publications by Publisher & Year</h1>

## Publications by Publisher

```{python}
#| echo: false
import pandas as pd
import matplotlib.pyplot as plt
from ipywidgets import interact

# Load and prepare data
df = pd.read_csv("top_publisher.csv")

# Pivot table
pivot_df = (
    df.pivot_table(
        index="year",
        columns="top_publisher",
        values="num_entry",
        aggfunc="sum",
        fill_value=0,
    )
    .sort_index()
)

publisher_options = sorted(pivot_df.columns.tolist())

def plot_publisher(selected_publisher):
    fig, ax = plt.subplots(figsize=(8, 6))
    pivot_df[selected_publisher].plot(kind="line", ax=ax, color="skyblue", marker="o")
    ax.set_title(f"Publications for Publisher: {selected_publisher} (1912 â€“ 1922)")
    ax.set_xlabel("Year")
    ax.set_ylabel("Number of Publications")
    plt.tight_layout()
    plt.show()

# Dropdown + chart
interact(plot_publisher, selected_publisher=publisher_options);

```